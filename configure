#!/bin/sh

function check() {
    if ! command -v $1 &> /dev/null
    then
        printf "[NOT INSTALLED] %s. Please install %s!\n" $1 $1
        exit 1
    else
        printf "[INSTALLED] %s\n" $1
    fi
}

function getHeaderOnlyLib() {
    # get libraries
    mkdir -p libs
    cd libs
    if [ -d $1 ]; then
        cd argcc
        git pull
    else
        git clone $2
    fi

    # back
    cd ../../
}

# check tools we need
check "g++"
check "make"
check "git"

echo "Updating external libraries..."

getHeaderOnlyLib "argcc" "https://github.com/unlink2/argcc"
